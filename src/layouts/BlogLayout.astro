---
import BaseHead from '../components/BaseHead.astro';
import { getLangFromUrl } from '../i18n/utils';
import Header from "../components/Header.astro";

const lang = getLangFromUrl(Astro.url);
---

<!DOCTYPE html>
<html lang={lang}>
	<head>
		<BaseHead />
	</head>
<body>

    <Header />

    <main  data-pagefind-ignore>

		<div id="search"></div>

        <slot />


    </main>

    <script>
        // Ejecutar la función setupSidebar() cada vez que ocurre una transición de página
        document.addEventListener('astro:page-load', () => {
            // @ts-ignore
            let search = new PagefindUI({ 
                element: "#search", 
                showSubResults: true
            });
            search.destroy();
            // @ts-ignore
            search = new PagefindUI({ 
                element: "#search", 
                showSubResults: true
            });
        });
    </script>

</body>
</html>

<style>
	body {
		--pagefind-ui-scale: .7;
		--pagefind-ui-primary: #034ad8;
		--pagefind-ui-text: #393939;
		--pagefind-ui-background: #ffffff;
		--pagefind-ui-border: #eeeeee;
		--pagefind-ui-tag: #eeeeee;
		--pagefind-ui-border-width: 2px;
		--pagefind-ui-border-radius: 8px;
		--pagefind-ui-image-border-radius: 8px;
		--pagefind-ui-image-box-ratio: 3 / 2;
		--pagefind-ui-font: sans-serif;
	}

</style>